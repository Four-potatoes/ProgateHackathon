# K-Movie Memory Master - êµ¬í˜„ ìƒì„¸

## ğŸ— ì•„í‚¤í…ì²˜

### ì „ì²´ êµ¬ì¡°
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         User Interface (UI)         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Game   â”‚Collectionâ”‚ Learning â”‚ â”‚
â”‚  â”‚  Screen  â”‚  Screen  â”‚  Screen  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“         â†‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Application Logic (JS)       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Game State Management        â”‚ â”‚
â”‚  â”‚   - Card Shuffling             â”‚ â”‚
â”‚  â”‚   - Match Detection            â”‚ â”‚
â”‚  â”‚   - Score Tracking             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   AI Quiz Engine               â”‚ â”‚
â”‚  â”‚   - Question Generation        â”‚ â”‚
â”‚  â”‚   - Answer Validation          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“         â†‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Data Layer & External Services   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ JSON DB  â”‚  â”‚ Firebase Cloud  â”‚ â”‚
â”‚  â”‚ (Movies) â”‚  â”‚ (Auth & Store)  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š ë°ì´í„° êµ¬ì¡°

### 1. ì˜í™” ë°ì´í„° (korean-movies.json)
```json
{
    "movies": [
        {
            "idx": 1,
            "title": "ê¸°ìƒì¶©",
            "img": "ê¸°ìƒì¶©.jpg",
            "genre": "ë²”ì£„",
            "director": "ë´‰ì¤€í˜¸",
            "actor": "ì†¡ê°•í˜¸, ì´ì„ ê· , ...",
            "icon": "ğŸ¬",
            "desc": "ê³„ê¸‰ ê°„ì˜ ëŒ€ë¦½ê³¼ ì‚¬íšŒì  ê²©ì°¨ë¥¼ ë‹¤ë£¬ ì‘í’ˆ."
        }
    ]
}
```

### 2. ê²Œì„ ìƒíƒœ (JavaScript State)
```javascript
{
    cards: Array,           // ì¹´ë“œ ë°°ì—´ (16ê°œ)
    flipped: Array,         // í˜„ì¬ ë’¤ì§‘íŒ ì¹´ë“œ ID
    matched: Array,         // ë§¤ì¹­ëœ ì¹´ë“œ ID
    moves: Number,          // ì‹œë„ íšŸìˆ˜
    isWon: Boolean,         // ìŠ¹ë¦¬ ì—¬ë¶€
    canClick: Boolean,      // í´ë¦­ ê°€ëŠ¥ ì—¬ë¶€
    currentPage: String     // í˜„ì¬ í˜ì´ì§€
}
```

### 3. Firebase ë­í‚¹ ë°ì´í„°
```javascript
{
    playerUid: String,      // ì‚¬ìš©ì ê³ ìœ  ID
    moves: Number,          // ì™„ë£Œê¹Œì§€ ê±¸ë¦° ì‹œë„ íšŸìˆ˜
    timestamp: Timestamp    // ê¸°ë¡ ì‹œê°„
}
```

---

## ğŸ® í•µì‹¬ ê²Œì„ ë¡œì§

### ì¹´ë“œ ë§¤ì¹­ ì•Œê³ ë¦¬ì¦˜

```javascript
// 1. ì¹´ë“œ í´ë¦­ ì²˜ë¦¬
handleCardClick(cardId) {
    // í´ë¦­ ë¶ˆê°€ëŠ¥ ìƒíƒœ ì²´í¬
    if (!canClick || flipped.length === 2 ||
        flipped.includes(cardId) ||
        matched.includes(cardId)) {
        return;
    }

    // ì¹´ë“œ ë’¤ì§‘ê¸°
    flipped.push(cardId);
    renderGame();

    // 2ì¥ ë’¤ì§‘í˜”ì„ ë•Œ
    if (flipped.length === 2) {
        canClick = false;
        moves++;

        const [card1, card2] = flipped;
        const item1 = cards.find(c => c.id === card1);
        const item2 = cards.find(c => c.id === card2);

        // ë§¤ì¹­ í™•ì¸
        if (item1.name === item2.name) {
            // ì„±ê³µ: matched ë°°ì—´ì— ì¶”ê°€
            matched.push(card1, card2);
            flipped = [];
            canClick = true;
            checkWinCondition();
        } else {
            // ì‹¤íŒ¨: 1ì´ˆ í›„ ë‹¤ì‹œ ë’¤ì§‘ê¸°
            setTimeout(() => {
                flipped = [];
                canClick = true;
                renderGame();
            }, 1000);
        }
    }
}
```

### ì¹´ë“œ ì…”í”Œë§ (Fisher-Yates Algorithm)

```javascript
shuffleArray(array) {
    let currentIndex = array.length;

    while (currentIndex !== 0) {
        // ëœë¤ ì¸ë±ìŠ¤ ì„ íƒ
        let randomIndex = Math.floor(Math.random() * currentIndex);
        currentIndex--;

        // í˜„ì¬ ì›ì†Œì™€ ëœë¤ ì›ì†Œ êµí™˜
        [array[currentIndex], array[randomIndex]] =
        [array[randomIndex], array[currentIndex]];
    }

    return array;
}
```

### ìŠ¹ë¦¬ ì¡°ê±´ ì²´í¬

```javascript
checkWinCondition() {
    if (matched.length > 0 && matched.length === cards.length) {
        isWon = true;
        submitScore(moves);  // Firebaseì— ì ìˆ˜ ì œì¶œ
        renderGame();        // ìŠ¹ë¦¬ ëª¨ë‹¬ í‘œì‹œ
    }
}
```

---

## ğŸ¨ UI/UX êµ¬í˜„

### 1. ì¹´ë“œ ë’¤ì§‘ê¸° ì• ë‹ˆë©”ì´ì…˜ (CSS 3D Transform)

```css
/* Perspective ì„¤ì • */
.perspective {
    perspective: 1000px;
}

/* 3D ê³µê°„ ìœ ì§€ */
.transform-style-preserve-3d {
    transform-style: preserve-3d;
}

/* ì¹´ë“œ ì „í™˜ ì• ë‹ˆë©”ì´ì…˜ */
.card-inner {
    transition: transform 0.5s;
}

/* ë’¤ì§‘íŒ ìƒíƒœ */
.rotate-y-180 {
    transform: rotateY(180deg);
}

/* ë’·ë©´ ìˆ¨ê¹€ */
.backface-hidden {
    backface-visibility: hidden;
}
```

### 2. ë°˜ì‘í˜• ê·¸ë¦¬ë“œ ì‹œìŠ¤í…œ

```html
<!-- Tailwind CSSë¥¼ í™œìš©í•œ ë°˜ì‘í˜• ê·¸ë¦¬ë“œ -->
<div class="grid grid-cols-4 gap-3 md:gap-4">
    <!-- ëª¨ë°”ì¼: gap-3, ë°ìŠ¤í¬í†±: gap-4 -->
</div>
```

### 3. ê·¸ë¼ë””ì–¸íŠ¸ & ì„€ë„ìš° íš¨ê³¼

```css
/* ë°°ê²½ ê·¸ë¼ë””ì–¸íŠ¸ */
background: linear-gradient(to bottom right,
    purple-50, pink-50, blue-50);

/* ë²„íŠ¼ ê·¸ë¼ë””ì–¸íŠ¸ */
bg-gradient-to-r from-purple-500 to-indigo-600

/* ê·¸ë¦¼ì íš¨ê³¼ */
shadow-2xl hover:shadow-xl
```

---

## ğŸ¤– AI í•™ìŠµ ì‹œìŠ¤í…œ

### í€´ì¦ˆ ìƒì„± ë¡œì§

```javascript
generateQuiz() {
    // ë¡œë”© ìƒíƒœ í™œì„±í™”
    isProcessing = true;
    aiFeedback = null;
    renderAILearning();

    // 1.5ì´ˆ í›„ í€´ì¦ˆ ìƒì„± (ë¹„ë™ê¸° íš¨ê³¼)
    setTimeout(() => {
        // ëœë¤ ì˜í™” ì„ íƒ
        const item = K_MOVIE_ITEMS[
            Math.floor(Math.random() * K_MOVIE_ITEMS.length)
        ];

        currentQuiz = {
            question: `ë‹¤ìŒ ì„¤ëª…ì´ ë‚˜íƒ€ë‚´ëŠ” í•œêµ­ ì˜í™”ëŠ”? "${item.desc}"`,
            correctAnswer: item.name,
            item: item
        };

        isProcessing = false;
        renderAILearning();
    }, 1500);
}
```

### ë‹µë³€ ê²€ì¦

```javascript
handleSubmit() {
    const userAnswer = document.getElementById('ai-answer').value.trim();

    if (!currentQuiz || isProcessing || userAnswer === '') return;

    isProcessing = true;
    renderAILearning();

    // ëŒ€ì†Œë¬¸ì ë¬´ì‹œ ë¹„êµ
    const isCorrect = userAnswer.toLowerCase() ===
                      currentQuiz.correctAnswer.toLowerCase();

    setTimeout(() => {
        if (isCorrect) {
            aiFeedback = {
                type: 'correct',
                message: `âœ… ì •ë‹µ! ${item.name}
                         ê°ë…: ${item.director}
                         ì¶œì—°: ${item.actor}`
            };
        } else {
            aiFeedback = {
                type: 'incorrect',
                message: `âŒ í‹€ë ¸ì–´ìš”. ì •ë‹µì€ "${item.name}"ì…ë‹ˆë‹¤.`
            };
        }
        isProcessing = false;
        renderAILearning();
    }, 1000);
}
```

---

## ğŸ”¥ Firebase ì—°ë™

### 1. ì´ˆê¸°í™”

```javascript
import { initializeApp } from "firebase/app";
import { getAuth, signInAnonymously } from "firebase/auth";
import { getFirestore } from "firebase/firestore";

// Firebase ì„¤ì •
const firebaseConfig = { /* ... */ };

// ì•± ì´ˆê¸°í™”
app = initializeApp(firebaseConfig);
db = getFirestore(app);
auth = getAuth(app);

// ìµëª… ë¡œê·¸ì¸
await signInAnonymously(auth);
```

### 2. ì ìˆ˜ ì œì¶œ

```javascript
import { addDoc, collection, serverTimestamp } from "firebase/firestore";

async function submitScore(finalMoves) {
    const rankingPath = `artifacts/${appId}/public/data/kmovie_ranking`;

    await addDoc(collection(db, rankingPath), {
        playerUid: currentUserId,
        moves: finalMoves,
        timestamp: serverTimestamp()
    });
}
```

### 3. ì‹¤ì‹œê°„ ë­í‚¹ ë¦¬ìŠ¤ë„ˆ

```javascript
import { query, orderBy, limit, onSnapshot } from "firebase/firestore";

function setupLeaderboardListener() {
    const q = query(
        collection(db, rankingPath),
        orderBy("moves", "asc"),      // ìµœì†Œ ì‹œë„ ìˆœ
        orderBy("timestamp", "asc"),   // ê°™ìœ¼ë©´ ë¹ ë¥¸ ì‹œê°„ ìˆœ
        limit(10)                      // Top 10
    );

    // ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ êµ¬ë…
    onSnapshot(q, (snapshot) => {
        const rankings = snapshot.docs.map(doc => ({
            id: doc.id,
            ...doc.data()
        }));

        renderLeaderboard(rankings, false);
    });
}
```

---

## ğŸ“± í˜ì´ì§€ ë¼ìš°íŒ…

### SPA ë°©ì‹ í˜ì´ì§€ ì „í™˜

```javascript
const goToPage = (pageName) => {
    currentPage = pageName;
    render();

    // ì•„ì´ì½˜ ì¬ë Œë”ë§
    if (window.createIcons && window.icons) {
        window.createIcons({ icons: window.icons });
    }
};

const render = () => {
    if (!isAuthReady) return;

    switch (currentPage) {
        case 'game':
            renderGame();
            break;
        case 'collection':
            renderCollection();
            break;
        case 'ai-learning':
            renderAILearning();
            if (!currentQuiz && !isProcessing) {
                generateQuiz();
            }
            break;
        case 'leaderboard':
            renderLeaderboard([], true);
            setupLeaderboardListener();
            break;
        default:
            appContainer.innerHTML = '<h1>í˜ì´ì§€ ì˜¤ë¥˜</h1>';
    }
};
```

---

## ğŸ”§ ìµœì í™” ì „ëµ

### 1. ë¦¬ë Œë”ë§ ìµœì í™”
- ìƒíƒœ ë³€ê²½ ì‹œì—ë§Œ DOM ì—…ë°ì´íŠ¸
- ë¶ˆí•„ìš”í•œ ì „ì—­ ë³€ìˆ˜ ìµœì†Œí™”

### 2. ì´ë¯¸ì§€ ìµœì í™”
- ì˜í™” í¬ìŠ¤í„° ì ì ˆí•œ í•´ìƒë„ ìœ ì§€
- Lazy Loading ì¤€ë¹„ (í–¥í›„)

### 3. ì½”ë“œ ë¶„ë¦¬
- ê²Œì„ ë¡œì§, AI ë¡œì§, ë Œë”ë§ ë¡œì§ ë¶„ë¦¬
- ëª¨ë“ˆí™” ê°€ëŠ¥í•œ êµ¬ì¡°

### 4. ì—ëŸ¬ í•¸ë“¤ë§
```javascript
try {
    const response = await fetch('../data/korean-movies.json');
    const data = await response.json();
    K_MOVIE_ITEMS = data.movies;
} catch (error) {
    console.error('Failed to load movie data:', error);
    // Fallback ë°ì´í„° ì‚¬ìš©
}
```

---

## ğŸ§ª í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

### ê²Œì„ í”Œë¡œìš° í…ŒìŠ¤íŠ¸
1. âœ… ì¹´ë“œ 16ì¥ ì •ìƒ ë¡œë“œ
2. âœ… ì¹´ë“œ í´ë¦­ ì‹œ ë’¤ì§‘ê¸° ì• ë‹ˆë©”ì´ì…˜
3. âœ… ë§¤ì¹­ ì„±ê³µ ì‹œ ì¹´ë“œ ê³ ì •
4. âœ… ë§¤ì¹­ ì‹¤íŒ¨ ì‹œ 1ì´ˆ í›„ ë‹¤ì‹œ ë’¤ì§‘ê¸°
5. âœ… ëª¨ë“  ë§¤ì¹­ ì™„ë£Œ ì‹œ ìŠ¹ë¦¬ ëª¨ë‹¬
6. âœ… ì¬ì‹œì‘ ë²„íŠ¼ ì •ìƒ ì‘ë™

### AI í•™ìŠµ í…ŒìŠ¤íŠ¸
1. âœ… í€´ì¦ˆ ëœë¤ ìƒì„±
2. âœ… ì •ë‹µ ì…ë ¥ ì‹œ ì •ë‹µ í”¼ë“œë°±
3. âœ… ì˜¤ë‹µ ì…ë ¥ ì‹œ ì˜¤ë‹µ í”¼ë“œë°± + ì •ë‹µ í‘œì‹œ
4. âœ… ë‹¤ìŒ ë¬¸ì œ ë²„íŠ¼ ì •ìƒ ì‘ë™

### ë­í‚¹ í…ŒìŠ¤íŠ¸
1. âœ… Firebase ì—°ê²° í™•ì¸
2. âœ… ì ìˆ˜ ì œì¶œ ì •ìƒ ì‘ë™
3. âœ… ì‹¤ì‹œê°„ ë­í‚¹ ì—…ë°ì´íŠ¸
4. âœ… ë³¸ì¸ ì ìˆ˜ í•˜ì´ë¼ì´íŠ¸

---

## ğŸ› ì•Œë ¤ì§„ ì´ìŠˆ & í•´ê²° ë°©ë²•

### ì´ìŠˆ 1: Firebase ì—°ê²° ì‹¤íŒ¨
**ì›ì¸**: firebaseConfig ëˆ„ë½
**í•´ê²°**: ë¡œì»¬ ëª¨ë“œë¡œ ì „í™˜, UUID ìƒì„±

### ì´ìŠˆ 2: ì•„ì´ì½˜ ë Œë”ë§ ì§€ì—°
**ì›ì¸**: innerHTML ì—…ë°ì´íŠ¸ í›„ ì•„ì´ì½˜ ë¯¸ìƒì„±
**í•´ê²°**: ë Œë”ë§ í›„ `createIcons()` í˜¸ì¶œ

### ì´ìŠˆ 3: ì…ë ¥ê°’ ì´ˆê¸°í™”
**ì›ì¸**: DOM ì¬ìƒì„± ì‹œ input value ì†ì‹¤
**í•´ê²°**: `oninput`ì—ì„œ value ì†ì„± ë™ê¸°í™”

---

## ğŸ“ˆ ì„±ëŠ¥ ì§€í‘œ

- **ì´ˆê¸° ë¡œë“œ ì‹œê°„**: < 2ì´ˆ
- **ì¹´ë“œ ë’¤ì§‘ê¸° ì‘ë‹µ**: < 100ms
- **í˜ì´ì§€ ì „í™˜ ì‹œê°„**: < 500ms
- **Firebase ì“°ê¸°**: < 1ì´ˆ
- **ë­í‚¹ ì—…ë°ì´íŠ¸**: ì‹¤ì‹œê°„ (< 2ì´ˆ)

---

## ğŸ¯ ë‹¤ìŒ ë‹¨ê³„

1. **LLM API ì—°ë™**: OpenAI/Claude APIë¡œ ë™ì  í€´ì¦ˆ ìƒì„±
2. **PWA ë³€í™˜**: ì˜¤í”„ë¼ì¸ ì§€ì›, ì•± ì„¤ì¹˜ ê°€ëŠ¥
3. **ë‹¤êµ­ì–´ ì§€ì›**: i18n ë¼ì´ë¸ŒëŸ¬ë¦¬ ì ìš©
4. **ì• ë„ë¦¬í‹±ìŠ¤**: Google Analytics ì—°ë™
5. **ì†Œì…œ ê³µìœ **: Open Graph ë©”íƒ€ íƒœê·¸ ì¶”ê°€
